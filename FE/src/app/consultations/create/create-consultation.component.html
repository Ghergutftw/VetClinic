<div class="container vh-100">
  <div class="container text-center mt-2 ">
    <div class="h1">CREATE CONSULTATION</div>
  </div>
  <div class="container w-50 h-75">
    <form (ngSubmit)="createConsultation()">
      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Date</label>
        <input type="datetime-local" class="form-control text-center" [(ngModel)]="consultation.date" name="date">
      </fieldset>

      <br>
      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Doctor</label>
        <select class="form-control text-center" [(ngModel)]="consultation.doctorLastName" name="doctorLastName">
          <option *ngFor="let doctor of doctors" [value]="doctor.lastName">
            {{ doctor.lastName }}
          </option>
        </select>
      </fieldset>
      <br>
      <div class="container w-75 border border-secondary-subtle border-3 rounded">
        <h1 class="text-center">Animal</h1>
        <fieldset class="form-group justify-content-center text-center">
          <label class="fs-5">Nickname</label>
          <input type="text" [(ngModel)]="consultation.consultatedAnimal.nickname" class="form-control text-center" name="nickname"
                 required="required">
        </fieldset>
        <br>
        <fieldset class="form-group text-center">
          <label for="inputState" class="fs-5">Animal Type</label>
          <select id="inputState" class="form-control text-center" name="animalType"
                  [(ngModel)]="consultation.consultatedAnimal.animalType" required="required" (change)="updateSpecies()">
            <option>Cat</option>
            <option>Dog</option>
            <option>Hamster</option>
            <option>Rabbit</option>
          </select>
        </fieldset>
        <br>
        <fieldset class="form-group text-center">
          <label class="fs-5">Species</label>
          <select [(ngModel)]="consultation.consultatedAnimal.specie" class="form-control text-center" name="specie"
                  required="required">
            <option *ngFor="let species of speciesOptions" [value]="species">{{ species }}</option>
          </select>
        </fieldset>
        <br>
<!--        TODO: https://www.npmjs.com/package/ng-multiselect-dropdown sau https://material.angular.io/components/select/overview-->
        <fieldset class="form-group text-center">
          <label class="fs-5">Age</label>
          <input type="number" [(ngModel)]="consultation.consultatedAnimal.age" class="form-control text-center" name="age"
                 required="required">
        </fieldset>
        <br>
        <fieldset class="form-group text-center">
          <label class="fs-5">Weight(g)</label>
          <input type="number" [(ngModel)]="consultation.consultatedAnimal.weight" class="form-control text-center" name="weight"
                 required="required">
        </fieldset>
        <br>
      </div>
      <br>
      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Diagnoses</label>
        <select [(ngModel)]="consultation.diagnostic" (ngModelChange)="updateDiagnoses()" class="form-control text-center" name="diagnostic" required="required">
          <option *ngFor="let diagnostic of diagnostics" [value]="diagnostic">{{ diagnostic }}</option>
        </select>
      </fieldset>
      <br>

      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Treatment</label>
        <select [(ngModel)]="consultation.treatment" class="form-control text-center" name="treatment" required="required">
          <option *ngFor="let treatment of treatments" [value]="treatment">{{ treatment }}</option>
        </select>
      </fieldset>
      <br>

      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Recommendations</label>
        <select [(ngModel)]="consultation.recommendations" class="form-control text-center"
                name="recommendations" required="required">
          <option *ngFor="let recommendation of recommendations" [value]="recommendation">{{ recommendation }}</option>
        </select>
      </fieldset>
      <br>
      <fieldset class="form-group justify-content-center text-center">
        <label class="fs-5">Price</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">$</span>
          </div>
          <input type="number" [(ngModel)]="consultation.price" class="form-control text-center" name="price" required="required">
        </div>
      </fieldset>
      <br>
      <div class="text-center">
        <div class="btn-group">
          <button class="btn btn-success" type="submit"> SAVE</button>
          <button class="btn btn-warning" type="reset"> RESET</button>
        </div>
      </div>
    </form>
  </div>
</div>
